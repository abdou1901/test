# Solution Explanation\nThe problem titled "Igor in the Museum 2" involves finding the total number of ways to collect artifacts either by picking one or skipping it when moving through a sequence of corridors.\n\n### Problem Explanation\nYou are given multiple test cases, each with an integer n, representing the number of corridors, and a sequence of operations. Each operation consists of four elements: left operator, left count, right operator, and right count. The goal is to calculate the total number of possible sequences of actions in a corridor-based museum.\n\n### Solution Logic\nWe use a dynamic programming-like approach and simulate the problem recursively from the end.\n#### State Definition\nWe define three variables to track the state:\n- `c` and `d` denote paths where picking any of the artifacts or none at all happens respectively in current corridor\n- `e` accounts for the number of times a path skips an artifact entirely\n\nWe iterate through the list of corridors in reverse order, updating `c`, `d`, and `e` based on the operations (either addition or multiplication).\n\n#### Recurrence Relation\nFor each corridor:\n- If two conditions are met before picking next corridor, we decide whether to include the current path artifact or not. The transitions help in adopting the state accordingly.\nFor `c >= d`:\n  - Update by multiplying combinations of the current corridor conditions.\nFor `c < d ` :\n  - Update by adding cumulative probabilities including all choice paths.\n- Adjust values by summing current paths results.\nWhen any corridor transition happens, we adjust paths' counts accordingly.\n\n### Handling Input\n- The input format is straightforward, where each operation within a test case follows the format specified.\n  - We read the operations into an array and process them in reverse order.\n- We ensure to respect constraints and limits on the number of corridors and possible paths.\n\n### Edge Cases\n- Handling empty sequences or cases where all values are zero is straightforward. The initial state ensures default values, thus the logic inherently covers such cases.